# 数据模型设计器 - 布局说明

## 新版布局概览

已将应用从标签页切换式布局升级为**中后台管理系统标准布局**，具有以下特点：

### 布局结构

```
┌─────────────────────────────────────────────────────┐
│  Sidebar (左侧菜单)  │   Main Content (主内容区)   │
│                       │  ┌─────────────────────────┐ │
│  - Logo & 折叠按钮   │  │  Header (顶部导航栏)    │ │
│  - 创建模型按钮      │  │  - 当前模型名称         │ │
│  - 数据库按钮        │  │  - 刷新按钮             │ │
│  - 设置按钮          │  └─────────────────────────┘ │
│  - 数据模型列表      │  ┌─────────────────────────┐ │
│                       │  │  Content (内容区域)     │ │
│                       │  │  - CRUD数据表格         │ │
│                       │  │  - 搜索和操作           │ │
│                       │  │  - 分页控制             │ │
│                       │  └─────────────────────────┘ │
└─────────────────────────────────────────────────────┘
```

## 功能区域详解

### 1. 左侧边栏 (Sidebar)

#### 特点
- 深色主题（slate-900）
- 支持折叠/展开
- 固定高度（h-screen）
- 滚动数据模型列表

#### 功能按钮
1. **创建模型** (蓝色按钮)
   - 打开模型编辑器创建新模型
   
2. **数据库** 
   - 打开数据库管理对话框
   - 浏览数据库和表
   - 从表快速创建模型

3. **设置**
   - 系统设置（开发中）

#### 数据模型列表
- 自动加载所有数据模型
- 点击切换到对应模型的CRUD界面
- 高亮显示当前选中模型
- 显示模型名称和备注
- 支持悬停效果

#### 折叠功能
- 点击折叠按钮可收起/展开侧边栏
- 折叠后只显示图标
- 宽度：展开 256px，折叠 64px

### 2. 顶部导航栏 (Header)

#### 内容显示
- **左侧**：当前数据模型信息
  - 模型名称（大字体）
  - 模型描述或ID（小字体）
  
- **右侧**：操作按钮
  - 刷新按钮：重新加载当前模型和数据

#### 样式特点
- 高度：64px (h-16)
- 白色背景
- 底部边框分隔
- 横向padding：24px

### 3. 主内容区 (Content Area)

#### CRUD数据管理界面

**搜索栏**
- 输入框：搜索数据（UI完成，逻辑可扩展）
- 搜索按钮：带图标

**数据表格**
- 白色卡片容器，带阴影
- 表头灰色背景（bg-gray-50）
- 行悬停高亮效果
- 空数据提示
- 单元格最大宽度限制，超出截断

**操作按钮**
- 新增数据：顶部右侧蓝色按钮
- 编辑：每行的编辑图标按钮
- 删除：每行的删除图标按钮（红色）

**分页控制**
- 左侧：显示总数和当前页信息
- 右侧：上一页/下一页按钮
- 按钮禁用状态处理

## 颜色方案

### 主题色
- **主色调**：蓝色 (blue-600, blue-700)
- **危险色**：红色 (red-600, red-700)
- **中性色**：灰色系列

### 侧边栏
- 背景：slate-900
- 文字：white / slate-300
- 选中项：blue-600
- 悬停：slate-800
- 边框：slate-700

### 主内容区
- 背景：gray-50
- 卡片：white
- 边框：gray-200
- 表头：gray-50
- 文字：gray-900 / gray-600

## 响应式设计

### 断点
- 侧边栏可折叠以适应小屏幕
- 内容区域自适应宽度
- 对话框在小屏幕上调整大小

### 滚动处理
- 侧边栏模型列表独立滚动
- 主内容区独立滚动
- 表格在小宽度下横向滚动

## 交互细节

### 悬停效果
- 按钮：背景色变深
- 表格行：浅灰色背景
- 菜单项：背景色变化

### 点击反馈
- 所有按钮有过渡动画
- 选中状态明显区分
- 加载状态（可扩展）

### 阴影层次
- 卡片：shadow-md
- 按钮：shadow-sm
- 对话框：shadow-lg

## 对话框

### 数据库管理对话框
- 最大宽度：1024px (max-w-4xl)
- 最大高度：80vh
- 内容可滚动

### 数据编辑对话框
- 最大宽度：600px (sm:max-w-[600px])
- 表单字段竖向排列
- 内容区最大高度：60vh
- 右侧padding防止滚动条遮挡

### 模型编辑器对话框
- 最大宽度：768px (max-w-2xl)
- 支持添加/删除字段
- 动态表单

## 默认行为

### 启动时
1. 加载所有数据模型
2. 自动选中第一个模型（如果存在）
3. 显示该模型的CRUD界面

### 无模型时
- 显示空状态提示
- 引导用户创建模型

### 切换模型
- 自动重置页码到第1页
- 重新加载模型详情和数据
- 更新顶部导航栏显示

## 性能优化

### 渲染优化
- 使用key强制重新渲染数据表格
- 条件渲染减少DOM节点
- 组件懒加载（可扩展）

### 数据加载
- 按需加载数据
- 分页减少单次数据量
- 缓存模型列表

## 可访问性

- 所有按钮有明确的title属性
- 禁用状态视觉反馈
- 键盘导航支持（可扩展）
- 语义化HTML标签

## 浏览器兼容性

- 使用现代CSS特性（flex, grid）
- Tailwind确保浏览器前缀
- 支持Chrome、Firefox、Safari、Edge最新版本

## 未来改进方向

1. **主题切换**：支持亮色/暗色主题
2. **自定义颜色**：允许用户自定义主题色
3. **布局配置**：可调整侧边栏宽度
4. **快捷键**：键盘快捷键支持
5. **面包屑**：顶部添加导航路径
6. **通知系统**：Toast替代alert
7. **加载状态**：更好的加载指示器
8. **错误处理**：统一错误提示组件

---

**更新时间**: 2025-10-29  
**版本**: 2.0.0 (中后台布局版)
