# 数据模型设计器 - 功能说明

## 界面布局

### 主界面
- 顶部标题栏：显示"数据模型设计器"标题和说明
- 标签页切换：数据库管理 | 数据模型
- 内容区域：根据选中的标签页显示不同内容

## 功能模块详解

### 1. 数据库管理标签

#### 数据库列表卡片
- **标题**: "数据库列表" + 刷新按钮
- **表格列**:
  - 数据库名称
  - 操作（查看表按钮）
- **功能**:
  - 点击"刷新"重新加载数据库列表
  - 点击"查看表"展开表列表

#### 表列表卡片（动态显示）
- **触发**: 点击某个数据库的"查看表"按钮后显示
- **标题**: "表列表 - {数据库名}"
- **表格列**:
  - 表名
  - 操作（创建模型按钮）
- **功能**:
  - 点击"创建模型"自动从表结构生成数据模型
  - 创建成功后自动切换到"数据模型"标签

### 2. 数据模型标签

#### 模型列表卡片
- **标题**: "数据模型列表" + 刷新按钮 + 新建模型按钮
- **表格列**:
  - ID：模型唯一标识
  - 名称：模型显示名称
  - 类型：模型类型（可选）
  - 分组：模型分组（可选）
  - 主表：关联的主表名
  - 备注：模型说明
  - 操作：
    - 管理数据：进入CRUD界面
    - 编辑：打开编辑器
    - 删除：删除模型（需确认）

#### 模型编辑器对话框
- **触发**: 点击"新建模型"或"编辑"按钮
- **表单字段**:
  - 模型ID *（必填，创建后不可修改）
  - 模型名称 *（必填）
  - 类型（可选）
  - 分组（可选）
  - 主表（可选）
  - 备注（可选，多行文本）
  - 列定义：
    - 动态列表，每行一个列名输入框
    - 可添加/删除列
- **按钮**:
  - 取消：关闭对话框
  - 保存：提交表单

### 3. 数据管理界面（CRUD）

#### 触发方式
从数据模型列表点击"管理数据"按钮

#### 界面组成
- **顶部**:
  - 返回按钮：回到模型列表
  - 标题：显示"数据管理 - {模型名}"
  - 新增数据按钮

- **搜索栏**:
  - 搜索输入框
  - 搜索按钮

- **数据表格**:
  - 列：根据模型定义的字段动态生成
  - 每行操作：
    - 编辑按钮：打开编辑对话框
    - 删除按钮：删除数据（需确认）

- **分页控制**:
  - 显示信息：共X条数据，第Y/Z页
  - 上一页按钮
  - 下一页按钮

#### 数据编辑对话框
- **触发**: 点击"新增数据"或"编辑"按钮
- **表单**: 根据模型字段动态生成输入框
- **按钮**:
  - 取消：关闭对话框
  - 保存：提交数据

## 操作流程示例

### 场景1：快速从数据库创建模型并管理数据

1. 打开应用
2. 默认在"数据库管理"标签
3. 点击某个数据库的"查看表"
4. 在表列表中找到目标表，点击"创建模型"
5. 系统自动切换到"数据模型"标签
6. 找到新创建的模型，点击"管理数据"
7. 点击"新增数据"，填写表单，保存
8. 数据显示在列表中

### 场景2：手动创建自定义模型

1. 切换到"数据模型"标签
2. 点击"新建模型"
3. 填写模型信息：
   - ID: `user_profile`
   - 名称: `用户画像`
   - 类型: `view`
   - 分组: `用户管理`
   - 主表: `users`
   - 添加列: `id`, `name`, `email`, `age`
4. 点击"保存"
5. 模型创建完成，显示在列表中

### 场景3：编辑已有模型

1. 在"数据模型"标签中
2. 找到要编辑的模型
3. 点击编辑图标
4. 修改模型信息（ID不可修改）
5. 添加或删除列
6. 点击"保存"
7. 模型更新完成

## UI特点

### 设计风格
- 简洁现代的扁平化设计
- 蓝色主题色
- 卡片式布局
- 清晰的视觉层次

### 交互特性
- 响应式设计（支持不同屏幕尺寸）
- 鼠标悬停效果
- 按钮点击反馈
- 表格行悬停高亮
- 对话框背景遮罩

### 图标使用
- 数据库图标：数据库列表
- 表格图标：表列表
- 文件图标：数据模型列表
- 加号图标：新增操作
- 编辑图标：编辑操作
- 删除图标：删除操作
- 刷新图标：刷新列表
- 搜索图标：搜索功能
- 箭头图标：分页导航、返回按钮

## 反馈机制

### 成功提示
- 模型创建成功
- 数据保存成功
- 操作完成提示

### 错误处理
- API调用失败时显示错误消息
- 表单验证失败提示
- 网络错误提示

### 确认对话框
- 删除模型前确认
- 删除数据前确认

## 性能优化

- 分页加载数据，避免一次性加载大量数据
- API请求失败自动重试机制（可扩展）
- 组件懒加载（可扩展）
- 图片和资源优化（可扩展）

## 浏览器兼容性

支持现代浏览器：
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+
